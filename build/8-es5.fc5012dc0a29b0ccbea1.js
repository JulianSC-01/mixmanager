!function(){function n(n,o){if(!(n instanceof o))throw new TypeError("Cannot call a class as a function")}function o(n,o){for(var r=0;r<o.length;r++){var i=o[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function r(n,r,i){return r&&o(n.prototype,r),i&&o(n,i),n}(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{dmkt:function(o,i,e){"use strict";e.r(i),e.d(i,"AppLoginModule",function(){return L});var s=e("ofXK"),t=e("3Pt+"),l=e("tyNb"),a=e("fXoL"),g=e("N/nO"),b=e("KGVv"),c=e("2LkV");function u(n,o){1&n&&(a.Kb(0),a.jc(1," Field is required. "),a.Jb())}function d(n,o){if(1&n&&(a.Kb(0),a.jc(1),a.Jb()),2&n){var r=a.Wb(2);a.xb(1),a.lc(" ",r.loginErrorMessage," ")}}function f(n,o){if(1&n&&(a.Mb(0,"div",14),a.hc(1,u,2,0,"ng-container",15),a.hc(2,d,2,1,"ng-container",15),a.Lb()),2&n){var r=a.Wb();a.xb(1),a.Zb("ngIf",r.loginForm.controls.loginEmail.errors.required),a.xb(1),a.Zb("ngIf",r.loginForm.controls.loginEmail.errors.invalidEmail)}}function m(n,o){1&n&&(a.Kb(0),a.jc(1," Field is required. "),a.Jb())}function p(n,o){if(1&n&&(a.Kb(0),a.jc(1),a.Jb()),2&n){var r=a.Wb(2);a.xb(1),a.lc(" ",r.loginErrorMessage," ")}}function v(n,o){if(1&n&&(a.Mb(0,"div",14),a.hc(1,m,2,0,"ng-container",15),a.hc(2,p,2,1,"ng-container",15),a.Lb()),2&n){var r=a.Wb();a.xb(1),a.Zb("ngIf",r.loginForm.controls.loginPassword.errors.required),a.xb(1),a.Zb("ngIf",r.loginForm.controls.loginPassword.errors.invalidPassword)}}function h(n,o){1&n&&(a.Mb(0,"span",16),a.Ib(1,"app-spinner"),a.Lb())}var w,E,F,P=function(n){return{"form-control":!0,"is-invalid":n}},M=[{path:"",component:(w=function(){function o(r,i){n(this,o),this.als=r,this.rtr=i,this.loginFormBuilder=new t.b,this.loginForm=this.loginFormBuilder.group({loginEmail:["",t.n.required],loginPassword:["",t.n.required]}),this.loginInProgress=!1}return r(o,[{key:"getHeaderErrorMessage",value:function(){return function(){function o(){n(this,o)}return r(o,null,[{key:"getHeaderErrorMessage",value:function(n){var o=0;for(var r in n.controls)n.get(r).invalid&&o++;return 1==o?"Please correct the error on this page.":o>1?"Please correct the "+o+" errors on this page.":null}}]),o}().getHeaderErrorMessage(this.loginForm)}},{key:"ngOnInit",value:function(){}},{key:"login",value:function(){var n=this;this.loginForm.valid&&(this.loginInProgress=!0,this.als.login(this.loginForm.controls.loginEmail.value,this.loginForm.controls.loginPassword.value).then(function(){n.rtr.navigate(["/home"]),n.loginInProgress=!1},function(o){n.loginErrors(o),n.loginInProgress=!1}))}},{key:"loginErrors",value:function(n){switch(n.code){case this.als.ERR_PASSWORD_ERROR:this.loginForm.controls.loginPassword.setErrors({invalidPassword:!0});break;default:this.loginForm.controls.loginEmail.setErrors({invalidEmail:!0})}this.loginErrorMessage=n.message}}]),o}(),w.\u0275fac=function(n){return new(n||w)(a.Hb(g.a),a.Hb(l.b))},w.\u0275cmp=a.Bb({type:w,selectors:[["app-login"]],decls:25,vars:14,consts:[[3,"condition","message","type"],["autocomplete","off",3,"formGroup","ngSubmit"],["form","ngForm"],[1,"form-row"],[1,"form-group","col-sm-6"],["for","loginEmail"],[1,"required"],["type","text","id","loginEmail","formControlName","loginEmail",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["for","loginPassword"],["type","password","id","loginPassword","formControlName","loginPassword",3,"ngClass"],[1,"mt-2"],["type","submit",1,"btn","btn-primary",3,"disabled"],["class","ml-2",4,"ngIf"],[1,"invalid-feedback"],[4,"ngIf"],[1,"ml-2"]],template:function(n,o){if(1&n&&(a.Mb(0,"h1"),a.jc(1," Login\n"),a.Lb(),a.Ib(2,"app-alert",0),a.Mb(3,"form",1,2),a.Tb("ngSubmit",function(){return o.login()}),a.Mb(5,"div",3),a.Mb(6,"div",4),a.Mb(7,"label",5),a.jc(8," E-mail address "),a.Mb(9,"span",6),a.jc(10," (required) "),a.Lb(),a.Lb(),a.Ib(11,"input",7),a.hc(12,f,3,2,"div",8),a.Lb(),a.Lb(),a.Mb(13,"div",3),a.Mb(14,"div",4),a.Mb(15,"label",9),a.jc(16," Password "),a.Mb(17,"span",6),a.jc(18," (required) "),a.Lb(),a.Lb(),a.Ib(19,"input",10),a.hc(20,v,3,2,"div",8),a.Lb(),a.Lb(),a.Mb(21,"div",11),a.Mb(22,"button",12),a.jc(23," Login "),a.Lb(),a.hc(24,h,2,0,"span",13),a.Lb(),a.Lb()),2&n){var r=a.dc(4);a.xb(2),a.Zb("condition",r.submitted&&o.loginForm.invalid)("message",o.getHeaderErrorMessage())("type","danger"),a.xb(1),a.Zb("formGroup",o.loginForm),a.xb(8),a.Zb("ngClass",a.ac(10,P,r.submitted&&o.loginForm.controls.loginEmail.errors)),a.xb(1),a.Zb("ngIf",r.submitted&&o.loginForm.controls.loginEmail.errors),a.xb(7),a.Zb("ngClass",a.ac(12,P,r.submitted&&o.loginForm.controls.loginPassword.errors)),a.xb(1),a.Zb("ngIf",r.submitted&&o.loginForm.controls.loginPassword.errors),a.xb(2),a.Zb("disabled",o.loginInProgress),a.xb(2),a.Zb("ngIf",o.loginInProgress)}},directives:[b.a,t.p,t.g,t.d,t.a,t.f,t.c,s.i,s.k,c.a],encapsulation:2}),w)}],I=((E=function o(){n(this,o)}).\u0275mod=a.Fb({type:E}),E.\u0275inj=a.Eb({factory:function(n){return new(n||E)},imports:[[l.e.forChild(M)],l.e]}),E),y=e("OIOd"),L=((F=function o(){n(this,o)}).\u0275mod=a.Fb({type:F}),F.\u0275inj=a.Eb({factory:function(n){return new(n||F)},imports:[[y.a,s.c,t.l,I]]}),F)}}])}();