(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{dmkt:function(o,r,n){"use strict";n.r(r),n.d(r,"AppLoginModule",function(){return F});var i=n("ofXK"),s=n("3Pt+"),e=n("tyNb"),t=n("fXoL"),l=n("N/nO"),a=n("KGVv"),g=n("2LkV");function b(o,r){1&o&&(t.Kb(0),t.jc(1," Field is required. "),t.Jb())}function c(o,r){if(1&o&&(t.Kb(0),t.jc(1),t.Jb()),2&o){const o=t.Wb(2);t.xb(1),t.lc(" ",o.loginErrorMessage," ")}}function d(o,r){if(1&o&&(t.Mb(0,"div",14),t.hc(1,b,2,0,"ng-container",15),t.hc(2,c,2,1,"ng-container",15),t.Lb()),2&o){const o=t.Wb();t.xb(1),t.Zb("ngIf",o.loginForm.controls.loginEmail.errors.required),t.xb(1),t.Zb("ngIf",o.loginForm.controls.loginEmail.errors.invalidEmail)}}function m(o,r){1&o&&(t.Kb(0),t.jc(1," Field is required. "),t.Jb())}function u(o,r){if(1&o&&(t.Kb(0),t.jc(1),t.Jb()),2&o){const o=t.Wb(2);t.xb(1),t.lc(" ",o.loginErrorMessage," ")}}function f(o,r){if(1&o&&(t.Mb(0,"div",14),t.hc(1,m,2,0,"ng-container",15),t.hc(2,u,2,1,"ng-container",15),t.Lb()),2&o){const o=t.Wb();t.xb(1),t.Zb("ngIf",o.loginForm.controls.loginPassword.errors.required),t.xb(1),t.Zb("ngIf",o.loginForm.controls.loginPassword.errors.invalidPassword)}}function p(o,r){1&o&&(t.Mb(0,"span",16),t.Ib(1,"app-spinner"),t.Lb())}const h=function(o){return{"form-control":!0,"is-invalid":o}},E=[{path:"",component:(()=>{class o{constructor(o,r){this.als=o,this.rtr=r,this.loginFormBuilder=new s.b,this.loginForm=this.loginFormBuilder.group({loginEmail:["",s.n.required],loginPassword:["",s.n.required]}),this.loginInProgress=!1}getHeaderErrorMessage(){return class{static getHeaderErrorMessage(o){let r=0;for(const n in o.controls)o.get(n).invalid&&r++;return 1==r?"Please correct the error on this page.":r>1?"Please correct the "+r+" errors on this page.":null}}.getHeaderErrorMessage(this.loginForm)}ngOnInit(){}login(){this.loginForm.valid&&(this.loginInProgress=!0,this.als.login(this.loginForm.controls.loginEmail.value,this.loginForm.controls.loginPassword.value).then(()=>{this.rtr.navigate(["/home"]),this.loginInProgress=!1},o=>{this.loginErrors(o),this.loginInProgress=!1}))}loginErrors(o){switch(o.code){case this.als.ERR_PASSWORD_ERROR:this.loginForm.controls.loginPassword.setErrors({invalidPassword:!0});break;default:this.loginForm.controls.loginEmail.setErrors({invalidEmail:!0})}this.loginErrorMessage=o.message}}return o.\u0275fac=function(r){return new(r||o)(t.Hb(l.a),t.Hb(e.b))},o.\u0275cmp=t.Bb({type:o,selectors:[["app-login"]],decls:25,vars:14,consts:[[3,"condition","message","type"],["autocomplete","off",3,"formGroup","ngSubmit"],["form","ngForm"],[1,"form-row"],[1,"form-group","col-sm-6"],["for","loginEmail"],[1,"required"],["type","text","id","loginEmail","formControlName","loginEmail",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["for","loginPassword"],["type","password","id","loginPassword","formControlName","loginPassword",3,"ngClass"],[1,"mt-2"],["type","submit",1,"btn","btn-primary",3,"disabled"],["class","ml-2",4,"ngIf"],[1,"invalid-feedback"],[4,"ngIf"],[1,"ml-2"]],template:function(o,r){if(1&o&&(t.Mb(0,"h1"),t.jc(1," Login\n"),t.Lb(),t.Ib(2,"app-alert",0),t.Mb(3,"form",1,2),t.Tb("ngSubmit",function(){return r.login()}),t.Mb(5,"div",3),t.Mb(6,"div",4),t.Mb(7,"label",5),t.jc(8," E-mail address "),t.Mb(9,"span",6),t.jc(10," (required) "),t.Lb(),t.Lb(),t.Ib(11,"input",7),t.hc(12,d,3,2,"div",8),t.Lb(),t.Lb(),t.Mb(13,"div",3),t.Mb(14,"div",4),t.Mb(15,"label",9),t.jc(16," Password "),t.Mb(17,"span",6),t.jc(18," (required) "),t.Lb(),t.Lb(),t.Ib(19,"input",10),t.hc(20,f,3,2,"div",8),t.Lb(),t.Lb(),t.Mb(21,"div",11),t.Mb(22,"button",12),t.jc(23," Login "),t.Lb(),t.hc(24,p,2,0,"span",13),t.Lb(),t.Lb()),2&o){const o=t.dc(4);t.xb(2),t.Zb("condition",o.submitted&&r.loginForm.invalid)("message",r.getHeaderErrorMessage())("type","danger"),t.xb(1),t.Zb("formGroup",r.loginForm),t.xb(8),t.Zb("ngClass",t.ac(10,h,o.submitted&&r.loginForm.controls.loginEmail.errors)),t.xb(1),t.Zb("ngIf",o.submitted&&r.loginForm.controls.loginEmail.errors),t.xb(7),t.Zb("ngClass",t.ac(12,h,o.submitted&&r.loginForm.controls.loginPassword.errors)),t.xb(1),t.Zb("ngIf",o.submitted&&r.loginForm.controls.loginPassword.errors),t.xb(2),t.Zb("disabled",r.loginInProgress),t.xb(2),t.Zb("ngIf",r.loginInProgress)}},directives:[a.a,s.p,s.g,s.d,s.a,s.f,s.c,i.i,i.k,g.a],encapsulation:2}),o})()}];let v=(()=>{class o{}return o.\u0275mod=t.Fb({type:o}),o.\u0275inj=t.Eb({factory:function(r){return new(r||o)},imports:[[e.e.forChild(E)],e.e]}),o})();var w=n("OIOd");let F=(()=>{class o{}return o.\u0275mod=t.Fb({type:o}),o.\u0275inj=t.Eb({factory:function(r){return new(r||o)},imports:[[w.a,i.c,s.l,v]]}),o})()}}]);